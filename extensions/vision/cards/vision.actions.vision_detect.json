{
  "defaults": {
    "width": 2,
    "height": 10,
    "type": "action",
    "icon": "camera",
    "name": "detect",
    "description": "Detect objects in the camera stream. returns a confidence value between 0 and 1. It just returns the confidence as a number, without a wrapping object.",
    "params": {
      "url": "camera stream url",
      "prompt": "what to detect in the image",
      "llmProvider": "llm provider to use (openai or lmstudio)"
    },
    "configParams": {
      "url": {
        "visible": true,
        "defaultValue": "",
        "type": "string"
      },
      "prompt": {
        "visible": true,
        "defaultValue": "",
        "type": "string"
      },
      "llmProvider": {
        "visible": false,
        "defaultValue": "",
        "type": "string"
      }
    },
    "rulesCode": "return await execute_action(\"/api/core/v1/vision/detect\", userParams)",
    "html": "//@card/react\n\nfunction Widget(card) {\n  const value = card?.value?.response;\n  const readme = `\n  ### üîë How to get your OpenAI API key?\n  1. Go to [OpenAI's API Keys page](https://platform.openai.com/account/api-keys).\n  2. Log in and click **\"Create new secret key\"**.\n  3. Copy and save your key securely, it won't be shown again.\n  > ‚ö†Ô∏è **Keep it secret!** Your API key is private and usage-based.\n  `;\n  \n  const content = <YStack f={1}  mt={\"20px\"} ai=\"center\" jc=\"center\" width=\"100%\">\n      {card.icon && card.displayIcon !== false && (\n          <Icon name={card.icon} size={48} color={card.color}/>\n      )}\n      {card.displayResponse !== false && (\n          <CardValue mode={card.markdownDisplay ? 'markdown' : 'normal'} value={value ?? \"N/A\"} />\n      )}\n  </YStack>\n\n  return (\n      <Tinted>\n        <ProtoThemeProvider forcedTheme={window.TamaguiTheme}>\n          <KeyGate requiredKeys={['OPENAI_API_KEY']} readme={readme}>\n            <ActionCard data={card}>\n              {card.displayButton !== false ? <ParamsForm data={card}>{content}</ParamsForm> : card.displayResponse !== false && content}\n            </ActionCard>\n          </KeyGate>\n        </ProtoThemeProvider>\n      </Tinted>\n  );\n}\n",
    "displayResponse": true
  },
  "name": "vision_detect",
  "id": "vision.actions.vision_detect",
  "group": "vision",
  "tag": "actions",
  "templateName": "Detect objects using AI"
}